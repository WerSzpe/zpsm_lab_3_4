var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _types=require("@babel/types");var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _inputNumberButton=_interopRequireDefault(require("./inputNumberButton"));var _jsxFileName="C:\\Users\\Weronika\\asprojects\\Calc_2\\src\\App.js";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var buttons=[['AC','DEL'],['7','8','9','/'],['4','5','6','*'],['1','2','3','-'],['0','.','=','+']];var buttonsLand=[['x!','AC','DEL'],['10^x','7','8','9','/'],['log10','4','5','6','*'],['x^2','1','2','3','-'],['x^3','0','.','=','+']];var isPortrait=function isPortrait(){var dim=_reactNative.Dimensions.get('screen');return dim.height>=dim.width;};var isLandscape=function isLandscape(){var dim=_reactNative.Dimensions.get('screen');return dim.width>=dim.height;};function factorialize(num){if(num===0||num===1)return 1;for(var i=num-1;i>=1;i--){num*=i;}return num;}var App=function(_Component){(0,_inherits2.default)(App,_Component);var _super=_createSuper(App);function App(){var _this;(0,_classCallCheck2.default)(this,App);_this=_super.call(this);_this.handleInput=function(input){var _this$state=_this.state,displayValue=_this$state.displayValue,operator=_this$state.operator,firstValue=_this$state.firstValue,secondValue=_this$state.secondValue,nextValue=_this$state.nextValue;switch(input){case'0':case'1':case'2':case'3':case'4':case'5':case'6':case'7':case'8':case'9':_this.setState({displayValue:displayValue==='0'?input:displayValue+input});if(!nextValue){_this.setState({firstValue:firstValue+input});}else{_this.setState({secondValue:secondValue+input});}break;case'+':case'-':case'*':case'/':_this.setState({nextValue:true,operator:input,displayValue:(operator!==null?displayValue.substr(0,displayValue.length-1):displayValue)+input});break;case'.':var dot=displayValue.toString().slice(-1);_this.setState({displayValue:dot!=='.'?displayValue+input:displayValue});if(!nextValue){_this.setState({firstValue:firstValue+input});}else{_this.setState({secondValue:secondValue+input});}break;case'=':var formatOperator=operator=='*'?'*':operator=='/'?'/':operator;var result=eval(firstValue+formatOperator+secondValue);_this.setState({displayValue:result%1===0?result:result.toFixed(3),firstValue:result%1===0?result:result.toFixed(3),secondValue:'',operator:null,nextValue:false});break;case'AC':_this.setState(_this.initialState);break;case'DEL':var string=displayValue.toString();var deletedString=string.substr(0,string.length-1);var length=string.length;_this.setState({displayValue:length===1?'0':deletedString,firstValue:length===1?'':deletedString});break;case'x!':var num=factorialize(firstValue);_this.setState({displayValue:num});break;case'x^2':var num2=Math.pow(firstValue,2);_this.setState({displayValue:num2});break;case'x^3':var num3=Math.pow(firstValue,3);_this.setState({displayValue:num3});break;case'10^x':var num10=Math.pow(10,firstValue);_this.setState({displayValue:num10});break;case'log10':var log10=Math.log10(firstValue);_this.setState({displayValue:log10});break;}};_this.initialState={displayValue:'0',operator:null,firstValue:'',secondValue:'',nextValue:false};_this.state=_this.initialState;_this.state={orientation:isPortrait()?'portrait':'landscape'};_reactNative.Dimensions.addEventListener('change',function(){_this.setState({orientation:isPortrait()?'portrait':'landscape'});});return _this;}(0,_createClass2.default)(App,[{key:"renderButtons",value:function renderButtons(){var _this2=this;var layouts=buttons.map(function(buttonRows,index){var rowItem=buttonRows.map(function(buttonItems,buttonIndex){return _react.default.createElement(_inputNumberButton.default,{value:buttonItems,handleOnPress:_this2.handleInput.bind(_this2,buttonItems),key:'btn-'+buttonIndex,__self:_this2,__source:{fileName:_jsxFileName,lineNumber:69,columnNumber:16}});});return _react.default.createElement(_reactNative.View,{style:styles.inputRow,key:'row-'+index,__self:_this2,__source:{fileName:_jsxFileName,lineNumber:74,columnNumber:14}},rowItem);});return layouts;}},{key:"renderButtonsLandscape",value:function renderButtonsLandscape(){var _this3=this;var layouts=buttonsLand.map(function(buttonRows,index){var rowItem=buttonRows.map(function(buttonItems,buttonIndex){return _react.default.createElement(_inputNumberButton.default,{value:buttonItems,handleOnPress:_this3.handleInput.bind(_this3,buttonItems),key:'btn-'+buttonIndex,__self:_this3,__source:{fileName:_jsxFileName,lineNumber:82,columnNumber:16}});});return _react.default.createElement(_reactNative.View,{style:styles.inputRow,key:'row-'+index,__self:_this3,__source:{fileName:_jsxFileName,lineNumber:87,columnNumber:14}},rowItem);});return layouts;}},{key:"render",value:function render(){if(this.state.orientation==='portrait'){return _react.default.createElement(_reactNative.View,{style:styles.container,__self:this,__source:{fileName:_jsxFileName,lineNumber:206,columnNumber:9}},_react.default.createElement(_reactNative.View,{style:styles.resultContainer,__self:this,__source:{fileName:_jsxFileName,lineNumber:208,columnNumber:11}},_react.default.createElement(_reactNative.Text,{style:styles.resultText,__self:this,__source:{fileName:_jsxFileName,lineNumber:209,columnNumber:13}},this.state.displayValue)),_react.default.createElement(_reactNative.View,{style:styles.inputContainer,__self:this,__source:{fileName:_jsxFileName,lineNumber:214,columnNumber:11}},this.renderButtons()));}else{return _react.default.createElement(_reactNative.View,{style:styles.container,__self:this,__source:{fileName:_jsxFileName,lineNumber:222,columnNumber:9}},_react.default.createElement(_reactNative.View,{style:styles.resultContainer,__self:this,__source:{fileName:_jsxFileName,lineNumber:224,columnNumber:11}},_react.default.createElement(_reactNative.Text,{style:styles.resultTextLand,__self:this,__source:{fileName:_jsxFileName,lineNumber:225,columnNumber:13}},this.state.displayValue)),_react.default.createElement(_reactNative.View,{style:styles.inputContainer,__self:this,__source:{fileName:_jsxFileName,lineNumber:230,columnNumber:11}},this.renderButtonsLandscape()));}}}]);return App;}(_react.Component);var styles=_reactNative.StyleSheet.create({container:{flex:1},resultContainer:{flex:2,justifyContent:'center',backgroundColor:'#06081c'},inputContainer:{flex:8,backgroundColor:'#06081c'},resultText:{color:'white',fontSize:80,fontWeight:'bold',padding:20,textAlign:'right'},resultTextLand:{color:'white',fontSize:40,fontWeight:'bold',padding:20,textAlign:'right'},inputRow:{flex:1,flexDirection:'row'}});var _default=App;exports.default=_default;